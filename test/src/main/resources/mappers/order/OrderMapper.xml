<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ssg.test.api.order.mapper.OrderMapper">

    <!-- 재고 보유 여부 조회 -->
    <select id="getGoodsInfo" resultType="com.ssg.test.api.order.domain.GoodsInfoDTO">
        SELECT
            DECODE(COUNT(1), 0, 'N', 'Y') AS STOCK_YN
            , SALE_PRICE
            , DISCOUNT_PRICE
        FROM
            GOODS_DTL
        WHERE
            GOODS_ID = #{goodsId}
    </select>


    <select id="getOrderGoods" resultType="com.ssg.test.api.order.domain.OrderListGoodsDTO">
        SELECT
            GOODS_ID
            , GOODS_NM
            , GOODS_PRICE
        FROM
            ORDER_DTL
        WHERE
            ORDER_NUM = #{orderNum}

    </select>
</mapper>